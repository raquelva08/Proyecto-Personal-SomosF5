<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Atlas de Constelaciones</title>
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="Atlas de Constelaciones — conecta las estrellas en el orden correcto, desbloquea constelaciones y descubre sus mini-historias mitológicas.">
</head>
<body>
    <div class="container" role="application" aria-label="Atlas de Constelaciones">
        <header>
            <div class="header-left">
                <svg class="icon-sparkle" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path d="M12 3l1.912 5.813L20 12l-6.088 3.187L12 21l-1.912-5.813L4 12l6.088-3.187L12 3z"/>
                </svg>
                <h1>Atlas de Constelaciones</h1>
            </div>

            <div class="header-right" role="group" aria-label="Controles del juego">
                <div class="badge" aria-hidden="true">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                    <span id="score">0</span>
                </div>

                <div class="badge" aria-hidden="true">
                    <span>Nivel <span id="level">1</span></span>
                </div>

                <button id="resetBtn" class="icon-btn" title="Reiniciar progreso" aria-label="Reiniciar progreso">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/>
                        <path d="M3 3v5h5"/>
                    </svg>
                </button>
            </div>
        </header>

        <div id="constellationInfo" class="constellation-info" style="display: none;" aria-live="polite">
            <h3 id="constellationName"></h3>
            <p id="constellationDesc"></p>
        </div>

        <main class="game-area" role="main" aria-label="Área de juego">
            <canvas id="canvas" aria-hidden="true"></canvas>
            <div id="starsContainer" aria-hidden="false"></div>

            <!-- Mensajes y overlays -->
            <div id="messageOverlay" class="message-overlay" aria-hidden="false">
                <div id="startMessage" class="message-box" role="dialog" aria-modal="false" aria-labelledby="startTitle">
                    <svg class="icon-sparkle-big" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                        <path d="M12 3l1.912 5.813L20 12l-6.088 3.187L12 21l-1.912-5.813L4 12l6.088-3.187L12 3z"/>
                    </svg>
                    <h2 id="startTitle">Atlas de Constelaciones</h2>
                    <p>Observa cómo se iluminan las estrellas de cada constelación y conéctalas en el mismo orden para dibujarla.</p>
                    <div class="controls">
                        <button id="startBtn" class="btn-primary">Comenzar</button>
                        <button id="chooseBtn" class="btn-ghost">Elegir nivel</button>
                    </div>
                    <p class="muted">Progreso guardado: <strong id="progressLabel">0</strong> constelaciones desbloqueadas.</p>
                </div>

                <div id="showingMessage" class="status-message" style="display: none;" role="status" aria-live="polite">
                    Observa las estrellas...
                </div>

                <div id="successMessage" class="message-box" style="display: none;" role="status" aria-live="polite">
                    <h3 class="success-title">¡Constelación completada! ✨</h3>
                    <p id="successName"></p>
                </div>

                <div id="failureMessage" class="message-box" style="display: none;" role="status" aria-live="assertive">
                    <p>Orden incorrecto</p>
                    <p class="small-text">Volviendo al nivel 1...</p>
                </div>
            </div>

            <!-- Selector de niveles (overlay lateral) -->
            <aside id="levelSelect" class="level-select" aria-hidden="true" style="display:none;">
                <h3>Elegir constelación</h3>
                <div id="levelsGrid" class="levels-grid" role="list"></div>
                <button id="closeLevels" class="btn-ghost">Cerrar</button>
            </aside>
        </main>
    </div>

    <!-- Script principal (carga script.js externo) -->
    <script src="script.js"></script>
</body>
</html>
